<!-- <!DOCTYPE html> -->
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<style>

		/* svg {
			border: 1px solid #000;
		} */

		@media (max-width:600px){
	      #profile_photo {
						display: none;
	      }
			}

		</style>
	</head>
	<body>
		<!-- Load d3.js -->
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<!-- Create a div where the graph will take place -->
		<div id="profile_photo" align="center"></div>
		<script>

		function addStdRect(svgInput, idInput, rectX, rectY, rectWidth, rectHeight, rectStroke, rMO, rML, rClick) {

			svgInput.append("rect")
						.attr("id", idInput)
						.attr("x", rectX)
						.attr("y", rectY)
						.attr("width", rectWidth)
						.attr("height", rectHeight)
						.style("fill", "transparent")
						.style("stroke", rectStroke)
						.on("mouseover", rMO)
						.on("mouseleave", rML)
						.on("click", rClick);
		};



		// set the dimensions and margins of the graph
		var margin = {top: 1, bottom: 15, left: 0, right: 0},
		    width = 450,
		    height = 450;

		// append the svg object to the body of the page
		var svg = d3.select("#profile_photo")
				.append("svg")
				  .attr("width", width + margin.left + 1)
				  .attr("height", height + margin.top + margin.bottom)
				.append("g")
				  .attr("transform",
				        "translate(" + margin.left + "," + margin.top + ")");

		addStdRect(svg, "photo_outline", 0, 0, width, height, null, null, null, null);

		//Read the data
		d3.csv("/assets/profile_photo/proile_photo_pixel_rgb_codes.csv", function(data) {
			// Labels of row and columns -> unique identifier of the column called 'xCoordinate' and 'yCoordinate'
			var xCoordinate = d3.map(data, function(d){ return d.x_coordinate; }).keys(),
					yCoordinate = d3.map(data, function(d){ return d.y_coordinate; }).keys(),
			// Build X and Y scales and axis:
					x = d3.scaleBand()
								.range([0, width])
								.domain(xCoordinate)
								.padding(0.025),
					y = d3.scaleBand()
								.range([0, height])
								.domain(yCoordinate)
								.padding(0.025);

			// add the squares
		  var rect = svg.selectAll()
			    .data(data, function(d) { return d.x_coordinate+':'+d.y_coordinate; })
			    .enter();

			rect.append("rect")
						.attr("id", "rect_colors")
						.attr("x", function(d) { return x(d.x_coordinate) })
			      .attr("y", function(d) { return y(d.y_coordinate) })
			      .attr("rx", 0)
			      .attr("ry", 0)
			      .attr("width", x.bandwidth())
			      .attr("height", y.bandwidth())
			      .style("fill", function(d) { return "rgb(" + String(parseInt(d.r)) + "," + String(parseInt(d.g)) + "," + String(parseInt(d.b)) + ")"});

			});

		</script>
	</body>
</html>
